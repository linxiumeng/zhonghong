(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2afc"],{"2pyT":function(t,e,n){var i=n("kczu");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("77bdd83a",i,!0,{})},"3blx":function(t,e,n){"use strict";n.r(e);var i=n("fBUP"),a=n("uJMD"),o={props:{detail:{type:Object,default:function(){return{}}}},data:function(){return{editProductForm:{},editProductRules:{name:[{required:!0,trigger:"blur",validator:function(t,e,n){e?n():n(new Error("请输入类型名称"))}}]},btnLoading:!1}},created:function(){this.editProductForm=a.a.deepClone(this.detail)},methods:{handleEditProduct:function(){var t=this;this.$refs.editProductForm.validate(function(e){if(!e)return!1;t.btnLoading=!0;var n=t.editProductForm.id?i.a.systemManage.changeGoodsType:i.a.systemManage.addGoodsType,a=t.editProductForm.id?{id:t.editProductForm.id,name:t.editProductForm.name}:{name:t.editProductForm.name,isOpen:1};t.$http.post(n,a).then(function(e){t.btnLoading=!1,t.$message({type:"success",message:"操作成功!"}),t.$emit("closeLayer")}).catch(function(){t.btnLoading=!1})})}}},r=(n("LlSr"),n("KHd+")),s=Object(r.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"edit-product-type"},[n("el-form",{ref:"editProductForm",staticClass:"edit-product-type-form",attrs:{model:t.editProductForm,rules:t.editProductRules,"auto-complete":"off","label-position":"right","label-width":"160px"}},[t.editProductForm.id?n("el-form-item",{attrs:{label:"编号"}},[n("span",[t._v(t._s(t.editProductForm.id))])]):t._e(),t._v(" "),n("el-form-item",{attrs:{prop:"name",label:"类型名称"}},[n("el-input",{attrs:{name:"name",type:"text","auto-complete":"off",maxlength:"15",placeholder:"请输入产品类型名称"},model:{value:t.editProductForm.name,callback:function(e){t.$set(t.editProductForm,"name",e)},expression:"editProductForm.name"}})],1),t._v(" "),n("el-button",{staticClass:"editProductBtn",attrs:{loading:t.btnLoading,type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.handleEditProduct(e)}}},[t._v("\n      提交\n    ")])],1)],1)},[],!1,null,"0e89c002",null);s.options.__file="editProductType.vue";var c={components:{editProductType:s.exports},data:function(){return{dataList:[],detailData:{},typeLayerTitle:"",tableLoading:!1,productTypeVisible:!1,typeTable:["已停用","已启用"]}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.tableLoading=!0,this.$http.post(i.a.systemManage.getGoodsTypeList,{}).then(function(e){t.tableLoading=!1,e.result.map(function(e){return e.isOpenText=t.typeTable[e.isOpen],e}),t.dataList=e.result}).catch(function(){t.tableLoading=!1})},edit:function(t,e){this.detailData=this.dataList[t],this.typeLayerTitle="编辑产品",this.productTypeVisible=!0},changeStatus:function(t,e){var n=this,a=0===e.isOpen?1:0;this.$confirm("确定要停用产品类型 "+e.name+" 吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){n.$http.post(i.a.systemManage.changeGoodsType,{id:e.id,isOpen:a}).then(function(e){n.dataList[t].isOpen=a,n.dataList[t].isOpenText=n.typeTable[a],n.$message({type:"success",message:"操作成功!"})})})},deleteIt:function(t,e){var n=this;this.$confirm("确定要删除产品类型 "+e.name+" 吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){n.$http.post(i.a.systemManage.deleteGoodsType,[e.id]).then(function(t){n.getList(),n.$message({type:"success",message:"删除成功!"})})})},addProduct:function(){this.detailData={},this.typeLayerTitle="添加产品",this.productTypeVisible=!0},closeDetail:function(){this.getList(),this.productTypeVisible=!1}}},d=(n("BHMR"),Object(r.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"product-type-container flex-table"},[n("el-form",{staticClass:"form-inline",attrs:{inline:!0,size:"mini"}},[t.btnPermission[397]?n("el-form-item",{staticClass:"fr"},[n("el-button",{attrs:{type:"primary"},on:{click:t.addProduct}},[t._v("添加产品类型")])],1):t._e()],1),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticClass:"table-flex-item",attrs:{data:t.dataList,stripe:!0,height:"100px","header-align":"center"}},[n("el-table-column",{attrs:{prop:"id",label:"编号",width:"120",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"类型名称",width:"150",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{prop:"createDate",label:"添加时间",width:"100",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{prop:"isOpenText",label:"状态",width:"180",align:"center"}}),t._v(" "),t.btnPermission[398]||t.btnPermission[399]||t.btnPermission[400]?n("el-table-column",{attrs:{label:"操作",align:"center",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.btnPermission[398]?n("span",{staticClass:"operate-btn",on:{click:function(n){t.edit(e.$index,e.row)}}},[t._v("\n          编辑\n        ")]):t._e(),t._v(" "),t.btnPermission[400]?n("span",{staticClass:"operate-btn",on:{click:function(n){t.changeStatus(e.$index,e.row)}}},[t._v("\n          "+t._s(0===e.row.isOpen?"启用":"停用")+"\n        ")]):t._e(),t._v(" "),t.btnPermission[399]?n("span",{staticClass:"operate-btn",on:{click:function(n){t.deleteIt(e.$index,e.row)}}},[t._v("\n          删除\n        ")]):t._e()]}}])}):t._e()],1),t._v(" "),n("el-dialog",{attrs:{visible:t.productTypeVisible,title:t.typeLayerTitle,width:"500px",center:""},on:{"update:visible":function(e){t.productTypeVisible=e}}},[t.productTypeVisible?n("editProductType",{attrs:{detail:t.detailData},on:{closeLayer:t.closeDetail}}):t._e()],1)],1)},[],!1,null,"7b8c78ec",null));d.options.__file="productType.vue";e.default=d.exports},BHMR:function(t,e,n){"use strict";var i=n("2pyT");n.n(i).a},LlSr:function(t,e,n){"use strict";var i=n("ZC+X");n.n(i).a},"ZC+X":function(t,e,n){var i=n("l1BK");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n("SZ7m").default)("51b77853",i,!0,{})},kczu:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".product-type-container[data-v-7b8c78ec] {\n  height: calc(100% - 60px);\n  background: #fff;\n  margin: 30px;\n  width: 750px;\n}\n.product-type-container .form-inline[data-v-7b8c78ec] {\n  padding: 20px 20px 0 20px;\n}\n.product-type-container .operate-btn[data-v-7b8c78ec] {\n  cursor: pointer;\n  text-decoration: underline;\n  color: #409EFF;\n  margin-right: 20px;\n}\n.product-type-container .pagination[data-v-7b8c78ec] {\n  text-align: center;\n  padding: 10px;\n}\n",""])},l1BK:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".edit-product-type .editProductBtn[data-v-0e89c002] {\n  display: block;\n  width: 100px;\n  margin: 0 auto;\n}\n",""])}}]);