(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-b3c6"],{"+g6/":function(n,t,i){"use strict";i.r(t);var e=i("fBUP"),a={data:function(){return{imgList:[],uploadBanner:e.a.contentManage.uploadBanner}},created:function(){this.getBannerList()},mounted:function(){var n=this;this.$dragging.$on("dragend",function(){var t=[];n.imgList.map(function(n){t.push(n.id)}),n.$http.post(e.a.contentManage.bannerOrder,t).then(function(n){})})},methods:{getBannerList:function(){var n=this;this.$http.post(e.a.contentManage.getBannerList,{}).then(function(t){n.imgList=t.result})},beforeUpload:function(n){var t="image/jpeg"===n.type,i="image/gif"===n.type,e="image/png"===n.type,a=n.size/1024/1024<10;return t||i||e?a?this.imgList.length>=20?(this.$message({message:"已超过数量限制，最多可上传20张图片",type:"warning"}),!1):void 0:(this.$message({message:"上传图片大小不能超过 10MB!",type:"warning"}),!1):(this.$message({message:"上传图片必须是JPG/GIF/PNG格式!",type:"warning"}),!1)},uploadSuccess:function(n){this.imgList.push(n.result)},unploadError:function(){this.$message({message:"图片上传失败!",type:"warning"})},deleteImg:function(n,t){var i=this;this.$confirm("是否确认删除该图片?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.$http.post(e.a.contentManage.deleteBanner,[t]).then(function(t){i.$message({type:"success",message:"删除成功!"}),i.imgList.splice(n,1)})})},changeImgVisible:function(n,t){var i=this,a=this.imgList[n].isOpen;a=0===a?1:0,this.$http.post(e.a.contentManage.changeBanner,{id:t,isOpen:a}).then(function(t){i.imgList[n].isOpen=a})}}},s=(i("v4Gx"),i("KHd+")),o=Object(s.a)(a,function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",{staticClass:"banner-manage-container flex-table"},[i("div",{staticClass:"addNewImg"},[i("el-upload",{staticClass:"upload-img",attrs:{"before-upload":n.beforeUpload,"on-success":n.uploadSuccess,"on-error":n.unploadError,action:n.uploadBanner,"with-credentials":!0,"show-file-list":!1}},[n.btnPermission[407]?i("el-button",{attrs:{size:"small",type:"primary"}},[n._v("新增图片")]):n._e()],1)],1),n._v(" "),n.imgList.length?i("div",{staticClass:"img-list"},n._l(n.imgList,function(t,e){return i("div",{directives:[{name:"dragging",rawName:"v-dragging",value:{item:t,list:n.imgList,group:"imgList"},expression:"{ item: item, list: imgList, group: 'imgList' }"}],key:e,staticClass:"img-item"},[n.btnPermission[409]?i("i",{staticClass:"img-item-icon-delete el-icon-close",on:{click:function(i){n.deleteImg(e,t.id)}}}):n._e(),n._v(" "),n.btnPermission[410]?i("i",{staticClass:"img-item-icon-show iconfont",class:t.isOpen?"iconeye-open":"iconeye",attrs:{title:t.isOpen?"点击隐藏图片":"点击发布图片"},on:{click:function(i){n.changeImgVisible(e,t.id)}}}):n._e(),n._v(" "),i("img",{attrs:{src:t.path}})])})):i("div",{staticClass:"img-no-list"},[n._v("\n    暂无图片，请点击按钮新增图片\n  ")]),n._v(" "),n.imgList.length?i("p",{staticClass:"banner-tip"},[n._v("注：您可通过拖动修改图片顺序")]):n._e()])},[],!1,null,"1b3925dd",null);o.options.__file="bannerManage.vue";t.default=o.exports},ZdXH:function(n,t,i){var e=i("cG0R");"string"==typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);(0,i("SZ7m").default)("5b512df0",e,!0,{})},cG0R:function(n,t,i){(n.exports=i("I1BE")(!1)).push([n.i,".banner-manage-container[data-v-1b3925dd] {\n  /* height: calc(100% - 60px); */\n  background: #fff;\n  margin: 30px;\n  padding: 30px;\n}\n.banner-manage-container .addNewImg[data-v-1b3925dd] {\n  padding-bottom: 10px;\n  border-bottom: 1px solid #D9DEE0;\n}\n.banner-manage-container .img-list[data-v-1b3925dd] {\n  margin-top: 20px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n}\n.banner-manage-container .img-list .img-item[data-v-1b3925dd] {\n  position: relative;\n  width: 400px;\n  height: 200px;\n  margin-right: 20px;\n  margin-bottom: 20px;\n  overflow: hidden;\n}\n.banner-manage-container .img-list .img-item .img-item-icon-delete[data-v-1b3925dd],\n.banner-manage-container .img-list .img-item .img-item-icon-show[data-v-1b3925dd] {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  font-size: 18px;\n  cursor: pointer;\n}\n.banner-manage-container .img-list .img-item .img-item-icon-show[data-v-1b3925dd] {\n  right: 40px;\n}\n.banner-manage-container .img-list .img-item > img[data-v-1b3925dd] {\n  width: 100%;\n  height: auto;\n}\n.banner-manage-container .img-no-list[data-v-1b3925dd] {\n  line-height: 50px;\n}\n.banner-manage-container .banner-tip[data-v-1b3925dd] {\n  font-size: 12px;\n  color: #494d4e;\n  margin-top: 20px;\n}\n",""])},v4Gx:function(n,t,i){"use strict";var e=i("ZdXH");i.n(e).a}}]);