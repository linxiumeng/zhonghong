(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-66da"],{"6fJN":function(t,i,e){var n=e("T5EL");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,e("SZ7m").default)("b7ee1908",n,!0,{})},T5EL:function(t,i,e){(t.exports=e("I1BE")(!1)).push([t.i,".product-info-container[data-v-6d83a87e] {\n  width: 900px;\n  background: #fff;\n  margin: 0 30px;\n  color: #303133;\n  font-size: 14px;\n}\n.product-info-container p[data-v-6d83a87e] {\n  word-wrap: break-word;\n  word-break: break-all;\n  line-height: 30px;\n}\n.product-info-container .base-info[data-v-6d83a87e] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  margin-bottom: 25px;\n}\n.product-info-container .base-info > li[data-v-6d83a87e] {\n  width: 220px;\n  margin-right: 10px;\n}\n.product-info-container .base-info > li[data-v-6d83a87e]:nth-child(2) {\n  width: 250px;\n}\n.product-info-container .base-info .img-li[data-v-6d83a87e] {\n  height: 130px;\n  width: 130px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  padding: 20px;\n}\n.product-info-container .base-info .img-li > img[data-v-6d83a87e] {\n  width: 100%;\n  height: 100%;\n}\n.product-info-container .oil-info[data-v-6d83a87e] {\n  margin-bottom: 25px;\n}\n.product-info-container .oil-info .oil-info-1[data-v-6d83a87e],\n.product-info-container .oil-info .oil-info-2[data-v-6d83a87e] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.product-info-container .oil-info .oil-info-1 li[data-v-6d83a87e] {\n  width: 220px;\n}\n.product-info-container .oil-info .oil-info-1 li[data-v-6d83a87e]:nth-child(3) {\n  width: 400px;\n}\n.product-info-container .oil-info .oil-info-2 li[data-v-6d83a87e] {\n  width: 220px;\n}\n.product-info-container .oil-info .fileDetail[data-v-6d83a87e] {\n  text-decoration: underline;\n  color: #409EFF;\n  cursor: pointer;\n}\n.product-info-container .product-info[data-v-6d83a87e] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.product-info-container .product-info li[data-v-6d83a87e] {\n  width: 220px;\n}\n",""])},TlPP:function(t,i,e){"use strict";var n={props:{detail:{type:Object,default:function(){return{}}}},data:function(){return{}},created:function(){for(var t in this.detail){var i=this.detail[t];i||0===i||(this.detail[t]="——")}},methods:{fileDetail:function(t){window.open(t)}}},a=(e("cOl2"),e("KHd+")),o=Object(a.a)(n,function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"product-info-container"},[e("ul",{staticClass:"base-info"},[e("li",{staticClass:"img-li"},[e("img",{attrs:{src:t.detail.pic}})]),t._v(" "),e("li",[e("p",[t._v(t._s(t.detail.goodsName)+"-"+t._s(t.detail.goodsTypeEntity&&t.detail.goodsTypeEntity.name))]),t._v(" "),e("p",[t._v(t._s(t.detail.goodsDesc))]),t._v(" "),e("p",[t._v("供应商: "+t._s(t.detail.goodsCompany))])]),t._v(" "),e("li",[e("p",[t._v("单价: "+t._s(t.detail.goodsPriceText))]),t._v(" "),e("p",[t._v("单位: "+t._s(t.detail.goodsUnit))]),t._v(" "),e("p",[t._v("贸易条款: "+t._s(t.detail.tradeClause))])]),t._v(" "),e("li",[e("p",[t._v("上架状态: "+t._s(t.detail.statusText))]),t._v(" "),e("p",[t._v("库存数量: "+t._s(t.detail.goodsStock))]),t._v(" "),t._m(0)])]),t._v(" "),e("div",{staticClass:"oil-info"},[e("ul",{staticClass:"oil-info-1"},[e("li",[e("p",[t._v("原油产地: "+t._s(t.detail.placeOfOrigin))])]),t._v(" "),e("li",[e("p",[t._v("油种: "+t._s(t.detail.oilType))])]),t._v(" "),e("li",[e("p",[t._v("备注: "+t._s(t.detail.remarks))])])]),t._v(" "),e("ul",{staticClass:"oil-info-2"},[e("li",[e("p",[t._v("含硫量(%): "+t._s(t.detail.sulphurContent))]),t._v(" "),e("p",[t._v("API度: "+t._s(t.detail.api))])]),t._v(" "),e("li",[e("p",[t._v("酸值(mgKOH/g): "+t._s(t.detail.acidValue))]),t._v(" "),e("p",[t._v("残碳(%): "+t._s(t.detail.carbonResidue))])]),t._v(" "),e("li",[e("p",[t._v("镍(ppm): "+t._s(t.detail.nickel))]),t._v(" "),e("p",[t._v(">350℃质量收率(%): "+t._s(t.detail.shrink))])]),t._v(" "),e("li",[e("p",[t._v("钒(ppm): "+t._s(t.detail.vanadium))]),t._v(" "),e("p",{staticClass:"fileDetail",on:{click:function(i){t.fileDetail(t.detail.filePoint)}}},[t._v(t._s(t.detail.filePoint?"查看原油指标文件":""))])])])]),t._v(" "),e("ul",{staticClass:"product-info"},[e("li",[e("p",[t._v("计价基准: "+t._s(t.detail.pricingManner))]),t._v(" "),e("p",[t._v("发货港/提货点: "+t._s(t.detail.portOfDispatch))])]),t._v(" "),e("li",[e("p",[t._v("计价期: "+t._s(t.detail.contractualValueDate))]),t._v(" "),e("p",[t._v("装货期: "+t._s(t.detail.loadingDate))])]),t._v(" "),e("li",[e("p",[t._v("信用方式: "+t._s(t.detail.paymentBy))]),t._v(" "),e("p",[t._v("升贴水: "+t._s(t.detail.premiumsDiscounts))])]),t._v(" "),e("li",[e("p",[t._v("支付日: "+t._s(t.detail.payDay))]),t._v(" "),e("p",[t._v("其他说明: "+t._s(t.detail.otherDescription))])])])])},[function(){var t=this.$createElement,i=this._self._c||t;return i("p",[i("br")])}],!1,null,"6d83a87e",null);o.options.__file="productInfo.vue";i.a=o.exports},Uid1:function(t,i,e){"use strict";e.r(i);var n=e("QbLZ"),a=e.n(n),o=e("fBUP"),s=e("uJMD"),r={components:{productInfo:e("TlPP").a},data:function(){return{searchForm:{goodsFormStatus:"",goodsType:"",date:"",keywords:""},goodsType:[],productList:[],productDetail:{},page:{currentPage:1,size:10,total:100},productInfoVisible:!1}},created:function(){this.getList(),this.getGoodsTypeList()},methods:{getGoodsTypeList:function(){var t=this;this.$http.post(o.a.systemManage.getGoodsTypeList,{isOpen:1}).then(function(i){t.goodsType=i.result})},getList:function(){var t=this;this.$http.post(o.a.commercialTenant.productList,a()({page:this.page.currentPage,size:this.page.size,startDate:this.searchForm.date&&this.searchForm.date[0],endDate:this.searchForm.date&&this.searchForm.date[1]},this.searchForm)).then(function(i){i.page.records.map(function(t){return 0===t.auditStatus?t.statusText="待审核":2===t.auditStatus?t.statusText="审核失败":1===t.auditStatus&&(0===t.goodsStatus?t.statusText="未上架":1===t.goodsStatus?t.statusText="出售中":2===t.goodsStatus&&(t.statusText="已下架")),t.goodsPriceText=0===t.goodsPrice?"浮动价":"¥"+s.a.numFormat(t.goodsPrice),t}),t.productList=i.page.records,t.page={currentPage:i.page.current,size:i.page.size,total:i.page.total}})},toSearch:function(){this.page.currentPage=1,this.getList()},handleCurrentChange:function(t){this.page.currentPage=t,this.getList()},showDetail:function(t){this.productDetail=this.productList[t],this.productInfoVisible=!0},closeAuditing:function(){this.productInfoVisible=!1},changeStatus:function(t,i){var e=this,n=0===i||2===i?"上架":"下架";this.$confirm("确定要"+n+" "+this.productList[t].goodsName+" 吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){var n=0===i||2===i?1:2;e.$http.post(o.a.commercialTenant.changeProductStatus,{goodsId:e.productList[t].id,goodsStatus:n}).then(function(i){e.productList[t].goodsStatus=n,e.productList[t].statusText=1===n?"出售中":"已下架",e.$message({type:"success",message:"操作成功!"})})})}}},d=(e("l23x"),e("KHd+")),c=Object(d.a)(r,function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"product-auditing-container flex-table"},[e("el-form",{staticClass:"form-inline",attrs:{inline:!0,model:t.searchForm,size:"mini"}},[e("el-form-item",{attrs:{label:"状态"}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchForm.goodsFormStatus,callback:function(i){t.$set(t.searchForm,"goodsFormStatus",i)},expression:"searchForm.goodsFormStatus"}},[e("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),e("el-option",{attrs:{label:"等待审核",value:"4"}}),t._v(" "),e("el-option",{attrs:{label:"审核未通过",value:"3"}}),t._v(" "),e("el-option",{attrs:{label:"出售中",value:"0"}}),t._v(" "),e("el-option",{attrs:{label:"未上架",value:"5"}}),t._v(" "),e("el-option",{attrs:{label:"已下架",value:"1"}})],1)],1),t._v(" "),e("el-form-item",{attrs:{label:"产品类型"}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchForm.goodsType,callback:function(i){t.$set(t.searchForm,"goodsType",i)},expression:"searchForm.goodsType"}},[e("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),t._l(t.goodsType,function(t,i){return e("el-option",{key:i,attrs:{label:t.name,value:t.id}})})],2)],1),t._v(" "),e("el-form-item",{attrs:{label:"日期"}},[e("el-date-picker",{attrs:{"default-time":["00:00:00","23:59:59"],"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetimerange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchForm.date,callback:function(i){t.$set(t.searchForm,"date",i)},expression:"searchForm.date"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"其他"}},[e("el-input",{attrs:{placeholder:"输入产品名称、企业名称搜索"},model:{value:t.searchForm.keywords,callback:function(i){t.$set(t.searchForm,"keywords",i)},expression:"searchForm.keywords"}})],1),t._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.toSearch}},[t._v("搜索")])],1)],1),t._v(" "),e("ul",{staticClass:"product-list table-flex-item"},t._l(t.productList,function(i,n){return e("li",{key:n,staticClass:"product-item"},[e("div",{staticClass:"product-img"},[e("img",{attrs:{src:i.pic}})]),t._v(" "),e("div",[e("p",[t._v(t._s(i.goodsName)+"-"+t._s(i.goodsTypeEntity&&i.goodsTypeEntity.name))]),t._v(" "),e("p",[t._v(t._s(i.goodsDesc))])]),t._v(" "),e("div",[e("p",[t._v("产品编号: "),e("span",[t._v(t._s(i.id))])]),t._v(" "),e("p",[t._v("单价: "),e("span",[t._v(t._s(i.goodsPriceText))])]),t._v(" "),e("p",[t._v("剩余库存: "),e("span",[t._v(t._s(i.goodsStock)+" "+t._s(i.goodsUnit))])])]),t._v(" "),e("div",[e("p",[t._v("供应商: "),e("span",[t._v(t._s(i.goodsCompany))])]),t._v(" "),e("p",[t._v("添加时间: "),e("span",[t._v(t._s(i.createDate))])])]),t._v(" "),e("div",[e("p",[t._v(t._s(i.statusText))])]),t._v(" "),t.btnPermission[380]||t.btnPermission[381]?e("div",{staticClass:"operate"},[t.btnPermission[380]?e("p",{attrs:{type:"primary"},on:{click:function(i){t.showDetail(n)}}},[t._v("查看详情")]):t._e(),t._v(" "),t.btnPermission[381]&&1===i.auditStatus?e("p",{attrs:{type:"primary"},on:{click:function(e){t.changeStatus(n,i.goodsStatus)}}},[t._v("\n          "+t._s(0===i.goodsStatus||2===i.goodsStatus?"恢复上架":"紧急下架")+"\n        ")]):t._e()]):t._e()])})),t._v(" "),e("div",{staticClass:"block pagination"},[e("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-size":t.page.size,total:t.page.total,layout:"prev, pager, next, jumper"},on:{"update:currentPage":function(i){t.$set(t.page,"currentPage",i)},"current-change":t.handleCurrentChange}})],1),t._v(" "),e("el-dialog",{attrs:{visible:t.productInfoVisible,width:"1000px",center:"",title:"产品详情"},on:{"update:visible":function(i){t.productInfoVisible=i}}},[t.productInfoVisible?e("productInfo",{attrs:{detail:t.productDetail}}):t._e(),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.closeAuditing}},[t._v("关闭")])],1)],1)],1)},[],!1,null,"45ecb050",null);c.options.__file="productList.vue";i.default=c.exports},cOl2:function(t,i,e){"use strict";var n=e("6fJN");e.n(n).a},iJfM:function(t,i,e){var n=e("zucQ");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,e("SZ7m").default)("edf5aa54",n,!0,{})},l23x:function(t,i,e){"use strict";var n=e("iJfM");e.n(n).a},zucQ:function(t,i,e){(t.exports=e("I1BE")(!1)).push([t.i,".product-auditing-container[data-v-45ecb050] {\n  height: calc(100% - 60px);\n  width: 1100px;\n  background: #fff;\n  margin: 30px;\n}\n.product-auditing-container .form-inline[data-v-45ecb050] {\n  padding: 20px 20px 0 20px;\n}\n.product-auditing-container .product-list[data-v-45ecb050] {\n  height: 100px;\n  width: 100%;\n  padding: 0 20px;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.product-auditing-container .product-list p[data-v-45ecb050] {\n  line-height: 25px;\n}\n.product-auditing-container .product-list .product-item[data-v-45ecb050] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  padding: 10px 0;\n  border-bottom: 1px solid #E9E8E8;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  font-size: 14px;\n}\n.product-auditing-container .product-list .product-item .product-img[data-v-45ecb050] {\n  margin-right: 40px;\n}\n.product-auditing-container .product-list .product-item .product-img > img[data-v-45ecb050] {\n  width: 60px;\n  height: 60px;\n}\n.product-auditing-container .product-list .product-item > div[data-v-45ecb050]:nth-child(2),\n.product-auditing-container .product-list .product-item > div[data-v-45ecb050]:nth-child(3),\n.product-auditing-container .product-list .product-item > div[data-v-45ecb050]:nth-child(4) {\n  width: 260px;\n}\n.product-auditing-container .product-list .product-item > div[data-v-45ecb050]:nth-child(5),\n.product-auditing-container .product-list .product-item > div[data-v-45ecb050]:nth-child(6) {\n  width: 100px;\n}\n.product-auditing-container .product-list .product-item .operate p[data-v-45ecb050] {\n  cursor: pointer;\n  text-decoration: underline;\n  color: #409EFF;\n}\n.product-auditing-container .pagination[data-v-45ecb050] {\n  text-align: center;\n  padding: 10px;\n}\n.product-auditing-container .auditing-result[data-v-45ecb050] {\n  width: 255px;\n  margin: 30px auto 0 auto;\n}\n",""])}}]);