(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-f538"],{"9Mdx":function(t,e,s){},DdwW:function(t,e,s){},TlPP:function(t,e,s){"use strict";var a={props:{detail:{type:Object,default:function(){return{}}}},data:function(){return{}},created:function(){for(var t in this.detail){var e=this.detail[t];e||0===e||(this.detail[t]="——")}},methods:{fileDetail:function(t){window.open(t)}}},i=(s("cOl2"),s("KHd+")),o=Object(i.a)(a,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"product-info-container"},[s("ul",{staticClass:"base-info"},[s("li",{staticClass:"img-li"},[s("img",{attrs:{src:t.detail.pic}})]),t._v(" "),s("li",[s("p",[t._v(t._s(t.detail.goodsName)+"-"+t._s(t.detail.goodsTypeEntity&&t.detail.goodsTypeEntity.name))]),t._v(" "),s("p",[t._v(t._s(t.detail.goodsDesc))]),t._v(" "),s("p",[t._v("供应商: "+t._s(t.detail.goodsCompany))])]),t._v(" "),s("li",[s("p",[t._v("单价: "+t._s(t.detail.goodsPriceText))]),t._v(" "),s("p",[t._v("单位: "+t._s(t.detail.goodsUnit))]),t._v(" "),s("p",[t._v("贸易条款: "+t._s(t.detail.tradeClause))])]),t._v(" "),s("li",[s("p",[t._v("上架状态: "+t._s(t.detail.statusText))]),t._v(" "),s("p",[t._v("库存数量: "+t._s(t.detail.goodsStock))]),t._v(" "),t._m(0)])]),t._v(" "),s("div",{staticClass:"oil-info"},[s("ul",{staticClass:"oil-info-1"},[s("li",[s("p",[t._v("原油产地: "+t._s(t.detail.placeOfOrigin))])]),t._v(" "),s("li",[s("p",[t._v("油种: "+t._s(t.detail.oilType))])]),t._v(" "),s("li",[s("p",[t._v("备注: "+t._s(t.detail.remarks))])])]),t._v(" "),s("ul",{staticClass:"oil-info-2"},[s("li",[s("p",[t._v("含硫量(%): "+t._s(t.detail.sulphurContent))]),t._v(" "),s("p",[t._v("API度: "+t._s(t.detail.api))])]),t._v(" "),s("li",[s("p",[t._v("酸值(mgKOH/g): "+t._s(t.detail.acidValue))]),t._v(" "),s("p",[t._v("残碳(%): "+t._s(t.detail.carbonResidue))])]),t._v(" "),s("li",[s("p",[t._v("镍(ppm): "+t._s(t.detail.nickel))]),t._v(" "),s("p",[t._v(">350℃质量收率(%): "+t._s(t.detail.shrink))])]),t._v(" "),s("li",[s("p",[t._v("钒(ppm): "+t._s(t.detail.vanadium))]),t._v(" "),s("p",{staticClass:"fileDetail",on:{click:function(e){t.fileDetail(t.detail.filePoint)}}},[t._v(t._s(t.detail.filePoint?"查看原油指标文件":""))])])])]),t._v(" "),s("ul",{staticClass:"product-info"},[s("li",[s("p",[t._v("计价基准: "+t._s(t.detail.pricingManner))]),t._v(" "),s("p",[t._v("发货港/提货点: "+t._s(t.detail.portOfDispatch))])]),t._v(" "),s("li",[s("p",[t._v("计价期: "+t._s(t.detail.contractualValueDate))]),t._v(" "),s("p",[t._v("装货期: "+t._s(t.detail.loadingDate))])]),t._v(" "),s("li",[s("p",[t._v("信用方式: "+t._s(t.detail.paymentBy))]),t._v(" "),s("p",[t._v("升贴水: "+t._s(t.detail.premiumsDiscounts))])]),t._v(" "),s("li",[s("p",[t._v("支付日: "+t._s(t.detail.payDay))]),t._v(" "),s("p",[t._v("其他说明: "+t._s(t.detail.otherDescription))])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("br")])}],!1,null,"6d83a87e",null);o.options.__file="productInfo.vue";e.a=o.exports},Uid1:function(t,e,s){"use strict";s.r(e);var a=s("QbLZ"),i=s.n(a),o=s("fBUP"),r=s("uJMD"),l={components:{productInfo:s("TlPP").a},data:function(){return{searchForm:{goodsFormStatus:"",goodsType:"",date:"",keywords:""},goodsType:[],productList:[],productDetail:{},page:{currentPage:1,size:10,total:100},productInfoVisible:!1}},created:function(){this.getList(),this.getGoodsTypeList()},methods:{getGoodsTypeList:function(){var t=this;this.$http.post(o.a.systemManage.getGoodsTypeList,{isOpen:1}).then(function(e){t.goodsType=e.result})},getList:function(){var t=this;this.$http.post(o.a.commercialTenant.productList,i()({page:this.page.currentPage,size:this.page.size,startDate:this.searchForm.date&&this.searchForm.date[0],endDate:this.searchForm.date&&this.searchForm.date[1]},this.searchForm)).then(function(e){e.page.records.map(function(t){return 0===t.auditStatus?t.statusText="待审核":2===t.auditStatus?t.statusText="审核失败":1===t.auditStatus&&(0===t.goodsStatus?t.statusText="未上架":1===t.goodsStatus?t.statusText="出售中":2===t.goodsStatus&&(t.statusText="已下架")),t.goodsPriceText=0===t.goodsPrice?"浮动价":"¥"+r.a.numFormat(t.goodsPrice),t}),t.productList=e.page.records,t.page={currentPage:e.page.current,size:e.page.size,total:e.page.total}})},toSearch:function(){this.page.currentPage=1,this.getList()},handleCurrentChange:function(t){this.page.currentPage=t,this.getList()},showDetail:function(t){this.productDetail=this.productList[t],this.productInfoVisible=!0},closeAuditing:function(){this.productInfoVisible=!1},changeStatus:function(t,e){var s=this,a=0===e||2===e?"上架":"下架";this.$confirm("确定要"+a+" "+this.productList[t].goodsName+" 吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){var a=0===e||2===e?1:2;s.$http.post(o.a.commercialTenant.changeProductStatus,{goodsId:s.productList[t].id,goodsStatus:a}).then(function(e){s.productList[t].goodsStatus=a,s.productList[t].statusText=1===a?"出售中":"已下架",s.$message({type:"success",message:"操作成功!"})})})}}},n=(s("l23x"),s("KHd+")),c=Object(n.a)(l,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"product-auditing-container flex-table"},[s("el-form",{staticClass:"form-inline",attrs:{inline:!0,model:t.searchForm,size:"mini"}},[s("el-form-item",{attrs:{label:"状态"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchForm.goodsFormStatus,callback:function(e){t.$set(t.searchForm,"goodsFormStatus",e)},expression:"searchForm.goodsFormStatus"}},[s("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),s("el-option",{attrs:{label:"等待审核",value:"4"}}),t._v(" "),s("el-option",{attrs:{label:"审核未通过",value:"3"}}),t._v(" "),s("el-option",{attrs:{label:"出售中",value:"0"}}),t._v(" "),s("el-option",{attrs:{label:"未上架",value:"5"}}),t._v(" "),s("el-option",{attrs:{label:"已下架",value:"1"}})],1)],1),t._v(" "),s("el-form-item",{attrs:{label:"产品类型"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchForm.goodsType,callback:function(e){t.$set(t.searchForm,"goodsType",e)},expression:"searchForm.goodsType"}},[s("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),t._l(t.goodsType,function(t,e){return s("el-option",{key:e,attrs:{label:t.name,value:t.id}})})],2)],1),t._v(" "),s("el-form-item",{attrs:{label:"日期"}},[s("el-date-picker",{attrs:{"default-time":["00:00:00","23:59:59"],"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetimerange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.searchForm.date,callback:function(e){t.$set(t.searchForm,"date",e)},expression:"searchForm.date"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"其他"}},[s("el-input",{attrs:{placeholder:"输入产品名称、企业名称搜索"},model:{value:t.searchForm.keywords,callback:function(e){t.$set(t.searchForm,"keywords",e)},expression:"searchForm.keywords"}})],1),t._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:t.toSearch}},[t._v("搜索")])],1)],1),t._v(" "),s("ul",{staticClass:"product-list table-flex-item"},t._l(t.productList,function(e,a){return s("li",{key:a,staticClass:"product-item"},[s("div",{staticClass:"product-img"},[s("img",{attrs:{src:e.pic}})]),t._v(" "),s("div",[s("p",[t._v(t._s(e.goodsName)+"-"+t._s(e.goodsTypeEntity&&e.goodsTypeEntity.name))]),t._v(" "),s("p",[t._v(t._s(e.goodsDesc))])]),t._v(" "),s("div",[s("p",[t._v("产品编号: "),s("span",[t._v(t._s(e.id))])]),t._v(" "),s("p",[t._v("单价: "),s("span",[t._v(t._s(e.goodsPriceText))])]),t._v(" "),s("p",[t._v("剩余库存: "),s("span",[t._v(t._s(e.goodsStock)+" "+t._s(e.goodsUnit))])])]),t._v(" "),s("div",[s("p",[t._v("供应商: "),s("span",[t._v(t._s(e.goodsCompany))])]),t._v(" "),s("p",[t._v("添加时间: "),s("span",[t._v(t._s(e.createDate))])])]),t._v(" "),s("div",[s("p",[t._v(t._s(e.statusText))])]),t._v(" "),t.btnPermission[380]||t.btnPermission[381]?s("div",{staticClass:"operate"},[t.btnPermission[380]?s("p",{attrs:{type:"primary"},on:{click:function(e){t.showDetail(a)}}},[t._v("查看详情")]):t._e(),t._v(" "),t.btnPermission[381]&&1===e.auditStatus?s("p",{attrs:{type:"primary"},on:{click:function(s){t.changeStatus(a,e.goodsStatus)}}},[t._v("\n          "+t._s(0===e.goodsStatus||2===e.goodsStatus?"恢复上架":"紧急下架")+"\n        ")]):t._e()]):t._e()])})),t._v(" "),s("div",{staticClass:"block pagination"},[s("el-pagination",{attrs:{"current-page":t.page.currentPage,"page-size":t.page.size,total:t.page.total,layout:"prev, pager, next, jumper"},on:{"update:currentPage":function(e){t.$set(t.page,"currentPage",e)},"current-change":t.handleCurrentChange}})],1),t._v(" "),s("el-dialog",{attrs:{visible:t.productInfoVisible,width:"1000px",center:"",title:"产品详情"},on:{"update:visible":function(e){t.productInfoVisible=e}}},[t.productInfoVisible?s("productInfo",{attrs:{detail:t.productDetail}}):t._e(),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:t.closeAuditing}},[t._v("关闭")])],1)],1)],1)},[],!1,null,"45ecb050",null);c.options.__file="productList.vue";e.default=c.exports},cOl2:function(t,e,s){"use strict";var a=s("9Mdx");s.n(a).a},l23x:function(t,e,s){"use strict";var a=s("DdwW");s.n(a).a}}]);